<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FracTracker Wells Portal</title>
    <!-- Include Project Specific CSS -->

    {% comment %} <link rel = "stylesheet" href = "/static/css/filtering.css"/> {% endcomment %}
    
    <link rel = "stylesheet" href = "/static/css/map.css"/>
    <link rel = "stylesheet" href = "/static/css/table.css"/>

    <!-- Include Leaflet CSS and JavaScript -->
    {% comment %} <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /> {% endcomment %}
    <link rel = "stylesheet" href = "/static/css/leaflet.css"/>

    <link rel="stylesheet" href="https://cdn.rawgit.com/mapbox/supercluster/v4.0.1/demo/cluster.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/supercluster@4.0.1/dist/supercluster.js"></script>
    {% comment %} <script src="https://code.jquery.com/jquery-1.12.4.js"></script> {% endcomment %}
    <!-- for the underscore variable/js function-->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/0.10.0/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>

    {% comment %} <link rel = "stylesheet" href = "/static/css/leaflet-draw.css"/> {% endcomment %}
    {% comment %} <script src="/static/js/leaflet-draw.js"/></script> {% endcomment %}

    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
    <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <!-- geojson vt  -->
    <script src="https://unpkg.com/geojson-vt@3.2.0/geojson-vt.js"></script>
    <script src="https://unpkg.com/leaflet-geojson-vt@1.1.0/src/leaflet-geojson-vt.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Archivo&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">


    <style>
        /*
        colors:
         dark blue - 00253B
         fractracker blue - 025687
         light blue - 0287D4
         green - A3CF5F 
         light gray - FDFFFC 

        */


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            font-family: 'Archivo Black', sans-serif;
        }

        /* Header styling */
        header {
            height: 100px;
            width: 100%;
            background-color: white; /*#0287D4;*/
            color: #025687;
            display: grid;
            justify-content: center;
            align-items: center;
            font-size: 24px;
        }

        /* Main content styling */
        .main-content {
            display: flex;
            height: calc(100vh - 100px); /* Subtract header height */
        }
        /* Right side */
        .right {
          /* flex-grow: 1; */
          /* height: 100%; */
          width: 100%;
          overflow-x: auto;

        }
        #container {
          height: 100%;
          display: flex;
          flex-direction: column;
        }
        #dividerContainer {
            cursor: ns-resize;
            background-color: #00253B;
            height: 40px;
            width: 100%;
            user-select: none;
            border-top-right-radius:12px;
            border-top-left-radius:12px;
          }
        #loading-popupid {
            display: none
        }


                
        /* Left side panel*/
        .left { /* Style the sidebar */
                width: 275px;
                min-width: 190px;
                {% comment %} height: 81vh; {% endcomment %}
                float: left; /* Float sidebar to the left */
                font-family: 'Archivo Black', sans-serif;
                color: #00253B;
                background-color: #02253a;
                overflow-y: auto;
                overflow-x: hidden;
                padding: 10px;
                border: solid;
                border-width: 6px;
                border-color: #00253a;
                border-radius:20px;
                margin:6px;
                position:relative;
        }




        /* Style the content inside the sidebar */
        #sidebar-content {
            {% comment %} margin-top: -20px; {% endcomment %}
            {% comment %} padding: 10px; {% endcomment %}
        }

        .filter {
            {% comment %} margin-bottom: 10px; {% endcomment %}
            {% comment %} padding: 8px; {% endcomment %}
            font-family: 'Archivo Black', sans-serif;
            margin-left: -10px;
            margin-right: -10px;
            background-color:#00253a;
        }
        .filter h4:hover {
            background-color: #001520;
        }
        .filter h4 {
            cursor: pointer;
            {% comment %} margin-bottom: 5px; {% endcomment %}
            color: white;
            position: relative;
            padding: 12px;

        }

        .filter h4::after {
            content: var(--after-content, "");
            float: right;
            position: absolute;
            left: 0px;
            color:#ffc857;

        }

        .filter.show h4::after {
            content: var(--after-content, "_");
            position: relative;
            top: -3px;
            left: 0px;
            color:#ffc857;

        }

        .filter.hide h4::after {
            content: var(--after-content, "⌄");
            position: relative;
            top: -5px;
            left: 0px;
            color:#ffc857;

        }

        .filter.show {
            {% comment %} border: solid {% endcomment %}
        }

        .filter.hide {
            border: none
        }
        .filter-content {
            display: none;
            padding: 10px;
            color: white;
            text-align: center;
        }

        .fh4 {
            cursor: default;
            font-family:Archivo;
            color:white;
            background-color:#02253a;
            padding-left:12px;
            padding-bottom:0px;
        }
        .fh4.show {
            background-color: #00253a;
        }
        .fh4.stay:hover {
            cursor: default;
            background-color: #00253a;

        }
        .fh4.hide {
            background-color: #00253a;
        }
        .filter-content.show {
            display: block;
            font-size: 12px;
            background-color: #025687;
            overflow-y: auto;
            max-height: 800px;

        }


        /* Style smaller checkboxes */
        .filter input[type="checkbox"] {
            transform: scale(0.75);
            margin-right: 5px;
        }

        /* Button style */
        .filter-content button {
            margin-top:5px;
            {% comment %} width: 49%; {% endcomment %}
            font-size: 12px;
            cursor: pointer;
        }

        .selectionContainer {
            background-color: rgb(216, 216, 216);
            color:rgb(104, 104, 104);
            max-height: 33vh;
            padding: 5px;
            border-radius: 5px;
            margin-bottom:2px;
            overflow-y: auto;
            display: grid;
            grid-template-rows: max-content;
        }
        .button-container {
            display: none;
            padding-top: 8px;
            padding-bottom: 8px;
            justify-content: left;
            color: red;
            position: relative;
            background-color: white;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px; 
            overflow: auto;
            max-height: 24vh;
            min-height: auto;
        
        }
        .filterbutton {
            width: 100%;
            text-rendering: auto;
            color: black;
            letter-spacing: normal;
            word-spacing: normal;
            line-height: normal;
            text-transform: none; 
            {% comment %} text-indent: 10px; {% endcomment %}
            text-shadow: none; 
            display: grid;
            text-align: center;
            align-items: flex-start; 
            cursor: default;
            box-sizing: border-box; 
            background-color: white;
            margin: 0em;
            padding-block: 2px; 
            padding-inline: 2px; 
            border-width: 2px; 
            border-style: none;
            border-color: buttonborder; 
            border-image: initial; 
        }
        .filterbutton:hover {
            background-color: rgb(179, 179, 179);
            cursor: pointer;
        }
        .highlightbutton {
            width: 100%;
            text-rendering: auto;
            color: black;
            letter-spacing: normal;
            word-spacing: normal;
            line-height: normal;
            text-transform: none; 
            {% comment %} text-indent: 30px; {% endcomment %}
            text-shadow: none; 
            display: grid;
            text-align: center;
            align-items: flex-start; 
            cursor: default;
            box-sizing: border-box; 
            background-color: #b2ddf4;
            margin: 0em;
            padding-block: 2px; 
            padding-inline: 2px; 
            border-width: 2px; 
            border-style: none;
            border-color: buttonborder; 
            border-image: initial; 
        }
        .highlightbutton:hover {
            background-color: rgb(255, 0, 0);
            color: white;
        }
        .dropdownbutton {
            background-color: #a3cf5f;
            color: #00253a;
            {% comment %} border-radius: 5px; {% endcomment %}
            width: 100%;
            {% comment %} border: none; {% endcomment %}
            border-color: #a3cf5f;
            border-radius: 8px;
            padding: 2px;
        }
        .dropdownbutton.notyet:hover {
            cursor: not-allowed;
        }
        .dropdownapplybutton {
            background-color: #a3cf5f;
            color: #00253a;
            {% comment %} border-radius: 5px; {% endcomment %}
            width: 100%;
            {% comment %} border-color: #00253B; {% endcomment %}
            {% comment %} padding: 2px; {% endcomment %}
            border-color: #a3cf5f;
            border-radius: 8px;
        }
        .dropdownapplybutton:hover {
            cursor: pointer;
        }
        .selbutton {
            background-color: #ffffff;
            border-radius: 3px;
            padding: 5px;
            margin: 2px;
            color: #025687;
        }
        .selbutton:hover {
            {% comment %} background-color: red; {% endcomment %}
            {% comment %} color: white; {% endcomment %}
            cursor: pointer;
        }
        .divbtns {
            background-color:white;
            color:#00253B;
            border:none;
            padding: 4px;
            border-radius: 6px;
        }
        .divbtns:hover {
            cursor: pointer;
        }

        .pagebtn {
            background-color:white;
            color:#00253B;
            border:none;
            padding: 4px;
            margin-left:2px;
            margin-right: 2px;
            border-radius: 6px;
        }
        .pagebtn:hover {
            cursor: pointer;
            background-color: #d4dadc;
        }

        .alert {
            padding: 20px;
            background-color: #f44336;
            color: white;
        }
        .alert.hide {
            display: none,
        }
        .alert.show {
            padding: 20px;
            background-color: #f44336;
            color: white;
        }
        .closebtn {
            margin-left: 15px;
            color: white;
            font-weight: bold;
            float: right;
            font-size: 22px;
            line-height: 20px;
            cursor: pointer;
            transition: 0.3s;
        }
        
        .closebtn:hover {
            color: black;
        }

        .arrow {
            border: solid black;
            border-width: 0 3px 3px 0;
            display: inline-block;
            padding: 3px;
        }
        .up {
            transform: rotate(-135deg);
            -webkit-transform: rotate(-135deg);
        }
        
        .down {
            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
        }
        #dlbutton {
            display: none;
            width: 100%;
        } 
        .dropdownbutton::after {
            content: '⌄'; /* Down arrow Unicode */
            font-size: 18px; /* Space between text and the arrow */
            font-weight:bold;
            position:relative;
            top:-3px;
            left: 30px;
        }
        .refine {
            display:block
        }
        .refine.hidden {
            display:none
        }

        .image-container {
            width: 300px;
            height: 200px;
            border: 2px solid #000;
            text-align: center;
            margin: 20px;
        }
        .tabbtn {
        color:white;
        background-color:#025687;
        margin-top:-14px;
        border:none;
        font-weight: bold;
        }
        .tabbtn:hover {
        background-color:#006199;
        cursor: pointer;
        }
        .tabbtn.sel {
        background-color: #00253a;
        cursor:arrow;
        }
        .tabbtn.sel:hover {
        cursor: default;
        }
        .tabpanel.show {
        display:block;
        }
        .tabpanel.hide {
        display:none
        }
        /* HTML: <div class="loader"></div> */
        .loader {
        width: 50px;
        aspect-ratio: 1;
        display: grid;
        border-radius: 50%;
        background:
            linear-gradient(0deg ,rgb(0 0 0/50%) 30%,#0000 0 70%,rgb(0 0 0/100%) 0) 50%/8% 100%,
            linear-gradient(90deg,rgb(0 0 0/25%) 30%,#0000 0 70%,rgb(0 0 0/75% ) 0) 50%/100% 8%;
        background-repeat: no-repeat;
        animation: l23 1s infinite steps(12);
        }
        .loader::before,
        .loader::after {
        content: "";
        grid-area: 1/1;
        border-radius: 50%;
        background: inherit;
        opacity: 0.915;
        transform: rotate(30deg);
        }
        .loader::after {
        opacity: 0.83;
        transform: rotate(60deg);
        }
        @keyframes l23 {
        100% {transform: rotate(1turn)}
        }
        .loadingobjects {
            display:grid;
            justify-content:center
        }
        .ovdrop{
            background-color:white;
            color:black
        }
        .ovdrop:hover {
            color:red
        }

        .dim {
            color:lightgray
        }
        .dim:hover {
            cursor: not-allowed;
        }
        /* Apply progress cursor when loading */
        .loadinglayer {
          cursor: not-allowed;
        }
        {% comment %} .leaflet-control-layers leaflet-control-layers-expanded leaflet-control" {% endcomment %}
        .splash-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0,0,0,0.6);
          }
        
          .splash-content {
            max-width: 1000px;
            width: 80vw;
            height: 80vh;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* center both horizontally and vertically */
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            font-family: 'Archivo Black', sans-serif;
            color: #02253a;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* keeps top content and bottom tabs spaced out */
          }
        
          .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
          }
        
          .close-button:hover {
            color: #000;
          }
        
          .tab-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
            border-top: 1px solid #ccc;
            padding-top: 15px;
          }
        
          .tab-buttons button {
            flex: 1;
            margin: 0 5px;
            background-color: #02253a;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Archivo Black', sans-serif;
          }
        
          .tab-buttons button:hover {
            background-color: #035;
          }
        
          .tab-content {
            min-height: 150px;
          }

    </style>
</head>
<body>

    {% comment %} <header>
        <div>
            <h1 style="color:#02253a;text-decoration: underline;text-decoration-color:#A3CF5F">National Oil & Gas Well Inventory</h1>
        </div>
        <div style="justify-self:center">
            <h4 style="color:#025687;font-weight:normal">Updated August 1, 2025<h4>
        </div>
    </header> {% endcomment %}

    <header style="display: flex; justify-content: space-between; margin-left: -10px; padding: 10px 20px;">
        <div style="display: flex; align-items: center;">
            <img class="header-image" style="font-family:Archivo Black; margin-top:10px; height:80px; width:90px; position: relative; z-index: 5100;" src="/static/images/dataportallogo.png">
            <h1 style="font-family:Archivo Black; margin-top:4px; margin-left: 20px; color:#02253a; line-height:1; font-size:45px;">
                Oil & Gas Well<br>Inventory
            </h1>
        </div>
        {% comment %} <div>
            <h4 style="color:#025687;font-weight:normal">Updated August 1, 2025<h4>
        </div> {% endcomment %}
    
        <div style="display: flex; gap: 10px;margin: 16px 10px">
            <button onclick="openSplash()"
                    style="font-family: 'Archivo Black'; background-color: #02253a; color: white; border: none; padding: 10px 22px; border-radius: 5px; cursor: pointer;">
                About&nbsp;&nbsp;❯
            </button>
            <a href="https://www.fractracker.org/data/" target="_blank" style="text-decoration: none;">
                <button style="font-family: 'Archivo Black'; background-color: #ffc857; color: #02253a; border: none; padding: 16px 22px; border-radius: 5px; cursor: pointer;">
                  More Data&nbsp;&nbsp;❯
                </button>
            </a>
        </div>
    </header>

    <div class="main-content">
        
        <div class="left" >
            <div id="tabbtns" style="display:grid;grid-template-columns: 50% 50%;height: 5vh">
                <button class="tabbtn sel" id="filterbtn" style="border-top-left-radius:20px;margin-left:-12px;font-family:arial">FILTER</button>
                <button class="tabbtn" id="resultsbtn" style="border-top-right-radius:20px;margin-right:-12px;font-family:arial">RESULTS</button>
            </div>
            <div class="tabpanel " id="filterpanel">
                <!-- filtering tools here -->
                <div class="filter">  {% comment %} toggle-states show"> {% endcomment %} 
                    <h4 class="fh4 stay" style="margin-top:25px;margin-bottom:-10px" id="statesh4" onclick="toggleFilter('states')">State</h4>
                    <div class="filter-content states-content show" id="filterState" style="background-color:#00253a">
                        <label for="stateinputbox" style="display:block;padding-bottom: 5px;font-weight:normal;font-family:Arial">Choose up to 3:</label>
                        <div class="selectionContainer" style="display:flex;justify-content:center" id="statePicks">**REQUIRED**</div>
                        <button class="dropdownbutton" id="statebutton" style="text-align:center" onclick="openlist('state')">&nbsp;&nbsp;&nbsp;&nbsp;Available States</button>
                        <div class="button-container" id="state-container"></div>
                    </div>
                </div>
                <div class="filter toggle-counties hide">
                    <h4 class="fh4" id="countiesh4" onclick="toggleFilter('counties')">County</h4>
                    <div class="filter-content counties-content hide" id="ctyFilterContainer">
                        {% comment %} <label for="countyPicks">County:</label> {% endcomment %}
                        <div class="selectionContainer" id="countyPicks" style="max-height:14vh">You can limit your results to those within a specific county by clicking the corresponding button below.</div>
                        <button class="dropdownbutton notyet" id="countybutton" onclick="openlist('county')">Counties by State</button>
                        <div class="button-container" id="county-container"></div>
                    </div>
                </div>
                <div class="filter toggle-wellstatus hide">
                    <h4 class="fh4" id="wellstatush4" onclick="toggleFilter('wellstatus')">Well Status</h4>
                    <div class="filter-content wellstatus-content" id="statusContainer">
                        <div class="selectionContainer" id="statusPicks" style="max-height:14vh">Status varies from state to state, take a look at the reference below.</div>
                        <button class="dropdownbutton notyet" id="statusbutton" onclick="openlist('wellstatus')">Well Status</button>
                        <div class="button-container" id="status-container"></div>
                    </div>
                </div>
                <div class="filter toggle-welltype hide">
                    <h4 class="fh4" id="welltypeh4" onclick="toggleFilter('welltype')">Well Type</h4>
                    <div class="filter-content welltype-content" id="typeContainer">
                        <div class="selectionContainer" id="typePicks" style="max-height:14vh">Type varies from state to state, take a look at the reference below.</div>
                        <button class="dropdownbutton notyet" id="typebutton" onclick="openlist('welltype')">Types Available</button>
                        <div class="button-container" id="type-container"></div>
                    </div>
                </div>
                {% comment %} <div class="filter-content">
                    <label for="well_name">Well Name:</label>
                    <input type="text" id="well_name" name="well_name" placeholder="Enter Well Name...">
                </div> {% endcomment %}

                <div class="filter toggle-ftacat hide">
                    <h4 class="fh4" id="ftacath4" onclick="toggleFilter('ftacat')">FracTracker Category</h4>
                    <div class="filter-content ftacat-content" id="ftacatContainer">
                        <div class="selectionContainer" id="ftacatPicks" style="max-height:14vh">Our attempt to normalize the varying classifications across the country. </div>
                        <button class="dropdownbutton notyet" id="ftacatbutton" onclick="openlist('welltype')">General Classification</button>
                        <div class="button-container" id="ftacat-container"></div>
                    </div>
                </div>
                <div >
                    <button style="padding:20px;margin-top:10px" class="dropdownapplybutton" onclick="applyCategoryFilter()"><strong>Apply Filter</strong></button>
                </div>
            </div>
            <div class="tabpanel hide" id="loadingpanel">
                <div class="loadingobjects">
                    <div id="loadingtext" style="font-family:arial;font-weight:normal;margin-top:60px;margin-bottom:20px;color:white">
                        Retrieving your records...
                    </div>
                    <div id="spinnerid" class="loader" style="margin:auto"></div>
                </div>
            </div>
            <div class="tabpanel hide" id="resultspanel">
                <div id="postapply"  style="margin-top:30px">

                    <div class="refine" id="refineblock">

                        <div id="search" style="margin-top:25px">
                            {% comment %} <label>Refine your search</label> {% endcomment %}
                            <select id="sort-field2" style="cursor:pointer;text-align:center;padding: 5px;margin-top:10px;margin-bottom:14px" class="dropdownbutton">
                                <option value="" style="color:#8a8a8a" selected>Refine your search</option> <!-- Placeholder option -->
                                <option value="api_num" class="ovdrop">API Number</option>
                                <option value="county" class="ovdrop">County</option>
                                <option value="well_name" class="ovdrop">Well Name</option>
                                <option value="operator" class="ovdrop">Operator</option>
                                <option value="spud_date" class="ovdrop">Spud Date</option>
                                <option value="plug_date" class="ovdrop">Plug Date</option>
                                <option value="well_type" class="ovdrop">Well Type</option>
                                <option value="well_status" class="ovdrop">Well Status</option>
                                <option value="well_configuratin" class="ovdrop">Well Configuration</option>
                                <option value="ft_category" class="ovdrop">FracTracker Category</option>
                            </select>
                            <div style="display:grid;grid-template-columns:84% 16%;width:100%">
                                <div style="text-align:center;border:none;height:25px;background-color:#0287D4;border-radius:4px"><input id="srch-input" style="text-indent:5px;border:none;border-radius:4px;height:25px;width:100%"></input></div>
                                {% comment %} <input style="width:120px;text-align: right;" type="number" id="sort-input" placeholder="Jump to page #" min="1"> {% endcomment %}
                                <div style="justify-self:right;text-align:center;border:none;height:25px;background-color:white;border-radius:7px"><button id="sortbtn2" class="divbtns" onclick="refinefilter()">Go</button></div>
                            </div>    
                        </div>
                        <div id="drawradius" style="display:grid;grid-auto-flow: column;margin-top:10px">
                            <div id="drawtext" style="margin-top:4px;color:white;font-family:arial;font-weight:normal;font-size:12px"><h4>Select wells within a circle:</h4></div>
                            <div id="controls" style="width:fit-content;justify-self:right">
                                <div id="draw-controls"></div> <!-- Draw control outside the map -->
                            </div>
                        </div>
                        <div>
                            <button class="dropdownapplybutton" style="margin-top:16px;padding:7px" onclick="updateTable(filteredData.features)">Clear Selection</button>
                        </div>
                        <div class="dlbtn" style="position: absolute; bottom: 10px; left: 10px; right: 10px;">
                            <button class="divbtns" id="dlbutton" style="font-family: 'Archivo Black'; font-size:18px;height: 60px; display: block; background-color: #ffc857;" onclick="downloadTableData(filteredData)">Download <span style="font-size: 20px; display: inline-block; transform: rotate(270deg); margin-left: 8px;">&#8676;</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right" id="container">
            <!-- Top content of the right side -->
            <div id="map">
                {% comment %} <img class="header-image" style="height: 60px;position: absolute; right: 10px;z-index: 5100;" src="/static/images/fta.png"> {% endcomment %}

                <div class="legend" id="legend" >
                    <div class="legend-header" style="display:grid;grid-auto-flow: column;" id="legend-toggle">
                        <div style="justify-self:right">
                            <span>Legend</span>
                        </div>
                        <div  style="justify-self:right">
                            <span id="legend_arrow">x</span>
                        </div>
                    </div>
                    <div class="legend-content">
                        <p style="margin-bottom:5px"><strong>Well Locations</strong></p>
                        <div class="legenditem " id="legenditemid11"><label class="category1 dim" id="legenditemid21"><input type="checkbox" id="category1" class="dim" unchecked><img src="../static/images/cat1.png" style='height:17px;width:19px;margin-right:2px;margin-left:-6px'>Injection / Storage / Service</label></div>
                        <div class="legenditem " id="legenditemid12"><label class="category1 dim" id="legenditemid22"><input type="checkbox" id="category2" class="dim" unchecked><img src="../static/images/cat2.png" style='height:17px;width:19px;margin-right:2px;margin-left:-6px'> Not Drilled</label></div>
                        <div class="legenditem " id="legenditemid13"><label class="category1 dim" id="legenditemid23"><input type="checkbox" id="category3" class="dim" unchecked><img src="../static/images/cat3.png" style='height:17px;width:19px;margin-right:2px;margin-left:-6px'> Orphaned / Abandoned / Unverified Plug</label></div>
                        <div class="legenditem " id="legenditemid14"><label class="category1 dim" id="legenditemid24"><input type="checkbox" id="category4" class="dim" unchecked><img src="../static/images/cat4.png" style='height:17px;width:19px;margin-right:2px;margin-left:-6px'> Other / Unknown</label></div>
                        <div class="legenditem " id="legenditemid15"><label class="category1 dim" id="legenditemid25"><input type="checkbox" id="category5" class="dim" unchecked><img src="../static/images/cat5.png" style='height:17px;width:19px;margin-right:2px;margin-left:-6px'> Plugged</label></div>
                        <div class="legenditem " id="legenditemid16"><label class="category1 dim" id="legenditemid26"><input type="checkbox" id="category6" class="dim"  unchecked><img src="../static/images/cat6.png" style='height:17px;width:19px;margin-right:2px;margin-left:-6px'> Production Well</label></div>
                        <p style="margin-bottom:5px"><strong>County Layers</strong></p>
                        <div class="legenditem " id="legenditemid17"><label class="category1 dim" id="legenditemid27"><input type="checkbox" id="countylayer" class="dim"  unchecked> County Borders</label></div>
                        <div class="legenditem " id="legenditemid18"><label class="category1 dim" id="legenditemid28"><input type="checkbox" id="countycount" class="dim"  unchecked> County Counts</label></div>
                        <div class="legenditem " id="legenditemid19"><label class="category1 dim" id="legenditemid29"><input type="checkbox" id="countychoropleth" class="dim"  unchecked> County Choropleth</label></div>
                    </div>
                </div>
            </div>
            <div class="divider" id="dividerContainer" style="z-index: 1000;margin-top:-12px">
                <div>
                    <div style="padding:9px;display:grid;grid-auto-flow:column">
                        <div>
                            <div>
                                <input style="border:none;width:148px;text-align:center;height:25px;background-color:white;border-radius:7px" type="number" id="page-input" placeholder="Jump to page #" min="1">
                                <button class="divbtns" onclick="goToPage()">Go</button>
                            </div>
                            {% comment %} <div class="pagenav-container" style="justify-self:center">
                                <span id="pagination" style="justify-self: center"></span>
                            </div> {% endcomment %}
                        </div>
                        <div style="color:white;margin-top:2px;justify-self:center">
                            <span id="records"></span>
                        </div>
                        <div style="justify-self:right">
                            <!-- Dropdown with a placeholder-like option for "Sort by" -->
                            <select id="sort-field" style="text-align:center;border:none;height:25px;background-color:white;border-radius:7px">
                                <option value="" style="color:#8a8a8a" selected>Choose a field</option> <!-- Placeholder option -->
                                <option value="api_num">API Number</option>
                                <option value="county">County</option>
                                <option value="well_name">Well Name</option>
                                <option value="operator">Operator</option>
                                <option value="spud_date">Spud Date</option>
                                <option value="plug_date">Plug Date</option>
                                <option value="well_type">Well Type</option>
                                <option value="well_status">Well Status</option>
                                <option value="well_configuratin">Well Configuration</option>
                                <option value="ft_category">FracTracker Category</option>
                            </select>
                            {% comment %} <input style="width:120px;text-align: right;" type="number" id="sort-input" placeholder="Jump to page #" min="1"> {% endcomment %}
                            <button id="sortbtn" class="divbtns" onclick="sortTable()">Sort</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom" id="bottomContainer">
            <!-- Bottom content of the right side -->
                <div>
                    <div id="pagination" style="display:flex;justify-content:center">
                    </div>
                </div>
                <div class="tablecontainer">

                    <!-- Grid container for the table -->
                    <table id="maintable">
                        {% comment %} <thead>
                            <tr>
                                <td id="pagination" colspan="100%">
                                <!-- Pagination buttons will be added here -->
                                </td>
                                <td>
                                    <button> btn </button>
                                </td>
                            </tr>
                        </thead> {% endcomment %}
                        <thead id="maintableheader" class="sticky-header-container">
                            <tr>
                                {% comment %} <th>TMPID</th> {% endcomment %}
                                <th>API Number</th>
                                <th>Other ID</th>
                                <th>Latitude</th>
                                <th>Longitude</th>
                                <th>State</th>
                                <th>County</th>
                                <th>Municipality</th>
                                <th>Well Name</th>
                                <th>Operator</th>
                                <th>Spud Date</th>
                                <th>Plug Date</th>
                                <th>Well Type</th>
                                <th>Well Status</th>
                                <th>Well Configuration</th>
                                <th>FracTracker Category</th>
                                {% comment %} <th>UID</th> {% endcomment %}
                            </tr>
                        </thead>
                        <tbody id="maintablebody">
                            {% comment %} <tr><td></td></tr> {% endcomment %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        </div>
            <!-- Splash Modal -->
            <div id="splashScreen" class="splash-modal">
                <div class="splash-content">
                <span class="close-button" onclick="closeSplash()">&times;</span>
            
                <!-- Main Content Area (changes when tabs are clicked) -->
                <div id="tabContent" class="tab-content" style="overflow-y:auto">
                    <h2>Welcome</h2>
                    <p>This is the default content shown in the modal.</p>
                </div>
            
                <!-- Tab Buttons -->
                <div class="tab-buttons">
                    <button disabled onclick="showTab('tab1')" class="btn" id="btn1" disabled>Terms of Service</button>
                    {% comment %} <button onclick="showTab('tab2')">Quick Guide</button> {% endcomment %}
                    <button disabled onclick="showTab('tab3')" class="btn" id="btn2" disabled>Data Details</button>
                </div>
            </div>
    <!-- Include Project Specific JavaScript -->
    <script src = "/static/js/wells.js"></script>
    <script>
        // Function to toggle filter visibility
        function toggleFilter(filterName) {
            let list = ['counties','wellstatus','welltype','ftacat']


            list.forEach(element => {
                var filterContent = document.querySelector('.' + element + '-content');
                var filterBox = document.querySelector('.toggle-' + element);
                var filterIcon = document.querySelector('.filter.toggle-' + element + ' h4');
                var filterH4 = document.getElementById(element + 'h4')
                console.log('element')
                console.log(element)
                console.log(element !== "states")
                if (element === filterName ) {
                    if (filterContent.classList.contains('show')) {
                        filterContent.classList.remove('show');
                        filterContent.classList.add('hide');
                        filterBox.style.border = 'none';
                        filterH4.classList.remove('show');
                        filterH4.classList.add('hide');
                        filterIcon.style.setProperty('--after-content', '"⌄"');
                    } else {
                    filterContent.classList.add('show');
                    filterContent.classList.remove('hide');
                    filterH4.classList.add('show');
                    filterH4.classList.remove('hide');
                    filterIcon.style.setProperty('--after-content', '"_"');
                    }
                } else {
                    filterContent.classList.remove('show');
                    filterContent.classList.add('hide');
                    filterH4.classList.remove('show');
                    filterH4.classList.add('hide');
                    filterIcon.style.setProperty('--after-content', '"⌄"');
                }
            })


        }

        function openSplash() {
            document.getElementById("splashScreen").style.display = "block";
            showTab('tab1'); // Show default tab content
          }
        
          function closeSplash() {
            document.getElementById("splashScreen").style.display = "none";
          }
          function openDD() {
            document.getElementById("splashScreen").style.display = "block";
            showTab('tab3'); // Show default tab content
          }
        
          function closeDD() {
            document.getElementById("splashScreen").style.display = "none";
          }
          function showTab(tabId) {
            const content = {
              tab1: {
                title: 'Welcome to our National Oil & Gas Well Inventory Portal',
                text: `<br>This application was developed to provides key insights into oil and gas well infrastructure across the United States by FracTracker Alliance. This dataset is maintained by FracTracker on a monthly basis and was last updated 08/01/25.<br>`+
                       `<br>© Copyright 2025 `+
                       `<a href="https://www.fractracker.org" target="_blank" rel="noopener noreferrer">FracTracker Alliance</a><br>`+
                       `<br>The FracTracker data available to the public on this web page is subject to the following terms and conditions:<br><br>`+
                        `1. The Site and App are provided on an “as is” basis without warranties or representations of any kind, either express or implied, including, but not limited to, warranties of title or implied warranties of merchantability or fitness for a particular purpose. <br>2. In no event shall FracTracker be liable for any special, direct, indirect, consequential, or incidental damages or any damages whatsoever arising out of or in connection with the use of the Site and App or the contents of the Site and App.<br>3. FracTracker Alliance retains all rights, title, and interest in and to the Data compilation, the database structure, and the Portal itself, including all associated intellectual property rights. The license granted herein is strictly limited to the uses permitted under these Terms.<br>4. A core condition of using the Data is that your use must be consistent with and supportive of the mission of FracTracker Alliance. Our mission is to "map, analyze, and communicate the risks of oil, gas, and petrochemical development to advance just energy alternatives that protect public health, natural resources, and the climate." We reserve the right, <strong>in our sole discretion</strong>, to determine whether a particular use is consistent with our mission.<br>5. When using the Data in any public-facing materials, you must cite FracTracker Alliance as the source.<br>6. By using the Site and/or App, you agree to our <a href="https://www.fractracker.org/terms-of-service/" target="_blank" rel="noopener noreferrer">Terms of Service</a> (“Terms”) and our <a href="https://www.fractracker.org/privacy-policy/" target="_blank" rel="noopener noreferrer">Privacy Policy</a> (“Privacy Policy”).` +
                        `<br><br><label><input type="checkbox" id="splash-checkbox"> <strong>I agree to the terms</strong></label>`
              },
              
              tab3: {
                title: 'About The Dataset',
                text:
                `<br><a href="https://www.fractracker.org/resources/oil-and-gas-101/" target="_blank" rel="noopener noreferrer">Head over to our handy guide for more information about oil and gas drilling</a>`+
                '<br><br>This dataset is updated by FracTracker on a monthly basis and was last updated 08/01/25.'+
                '<br><br><b>Oil and Natural Gas</b>'+
                '<br><br><u>Oil</u> – <i>As with other fossil fuels, oil is found in underground reservoirs. It is the end product of the decomposition of organic materials that have been subjected to geologic heat and pressure over millions of years.</i>'+
                '<br><br><u>Natural Gas</u> – <i>When first obtained from the ground, natural gas is composed of primarily methane with other alkanes typically mixed in, and possibly also carbon dioxide, nitrogen, and hydrogen sulfide. Shale gas, specifically, is natural gas trapped within shale geologic formations (a type of sedimentary rock). Both oil and natural gas are considered non-renewable resources since they cannot be replenished on a human timeframe.</i>'+
                '<br><br><b>FracTracker Categories</b>'+
                '<br><br>Our attempt to normalize the myriad of well types and statuses used by the individual state agencies'+
                '<br><br><u>Injection / Storage / Service</u> – <i>well used to inject fluids into porous rock formations</i>'+
                '<br><br><u>Not Drilled</u> – <i></i>'+
                '<br><br><u>Orphaned / Abandoned / Unverified</u> – <i>no longer in production, but status remains unclear</i>'+
                '<br><br><u>Other / Unknown</u> – <i>default status provided</i>'+
                '<br><br><u>Plugged</u> – <i>verified plugged</i>'+
                '<br><br><u>Production / Storage / Service</u> – <i>currently active and producing</i>'+
                '<br><br><b>Additional References</b>'+
                '<br><br><u>Well Status</u> – <i></i>'+
                '<br><br><u>Well Type</u> – <i></i>'

            }
        };
      
        const tabContent = document.getElementById("tabContent");
        tabContent.innerHTML = `<h2>${content[tabId].title}</h2><p style="font-family:arial">${content[tabId].text}</p>`;
      
        // ✅ Only attach checkbox logic if this is tab1
        if (tabId === 'tab1') {
          const checkbox = document.getElementById('splash-checkbox');
          const btn1 = document.getElementById('btn1');
          const btn2 = document.getElementById('btn2');
      
          if (checkbox) {
            checkbox.addEventListener('change', function () {
              const isChecked = checkbox.checked;
              [btn1, btn2].forEach(btn => {
                btn.disabled = !isChecked;
                btn.classList.toggle('active', isChecked);
                btn.style.cursor = isChecked ? 'pointer' : 'not-allowed';
              });
            });
          }
        }
      }
    </script>
</body>
</html>
